function cov_2g8137dg8(){var path="C:\\Users\\thiba\\Documents\\GitHub\\FoodExpress\\FoodExpress\\dist\\services\\restaurantService.js";var hash="3702eecf9d56e7e37c969e3630a9d4a53a1ded6a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\thiba\\Documents\\GitHub\\FoodExpress\\FoodExpress\\dist\\services\\restaurantService.js",statementMap:{"0":{start:{line:6,column:8},end:{line:6,column:45}},"1":{start:{line:9,column:21},end:{line:9,column:39}},"2":{start:{line:10,column:8},end:{line:10,column:75}},"3":{start:{line:13,column:27},end:{line:13,column:56}},"4":{start:{line:14,column:8},end:{line:16,column:9}},"5":{start:{line:15,column:12},end:{line:15,column:55}},"6":{start:{line:17,column:8},end:{line:17,column:26}},"7":{start:{line:20,column:8},end:{line:22,column:11}},"8":{start:{line:25,column:34},end:{line:25,column:94}},"9":{start:{line:26,column:8},end:{line:27,column:55}},"10":{start:{line:27,column:12},end:{line:27,column:55}},"11":{start:{line:28,column:8},end:{line:28,column:33}},"12":{start:{line:31,column:34},end:{line:31,column:72}},"13":{start:{line:32,column:8},end:{line:34,column:9}},"14":{start:{line:33,column:12},end:{line:33,column:55}},"15":{start:{line:35,column:8},end:{line:35,column:33}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:20},end:{line:7,column:5}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:45},end:{line:11,column:5}},line:8},"2":{name:"(anonymous_2)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:22},end:{line:18,column:5}},line:12},"3":{name:"(anonymous_3)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:26},end:{line:23,column:5}},line:19},"4":{name:"(anonymous_4)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:28},end:{line:29,column:5}},line:24},"5":{name:"(anonymous_5)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:21},end:{line:36,column:5}},line:30}},branchMap:{"0":{loc:{start:{line:8,column:23},end:{line:8,column:31}},type:"default-arg",locations:[{start:{line:8,column:30},end:{line:8,column:31}}],line:8},"1":{loc:{start:{line:8,column:33},end:{line:8,column:43}},type:"default-arg",locations:[{start:{line:8,column:41},end:{line:8,column:43}}],line:8},"2":{loc:{start:{line:14,column:8},end:{line:16,column:9}},type:"if",locations:[{start:{line:14,column:8},end:{line:16,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:14},"3":{loc:{start:{line:26,column:8},end:{line:27,column:55}},type:"if",locations:[{start:{line:26,column:8},end:{line:27,column:55}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:26},"4":{loc:{start:{line:32,column:8},end:{line:34,column:9}},type:"if",locations:[{start:{line:32,column:8},end:{line:34,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:32}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0],"1":[0],"2":[0,0],"3":[0,0],"4":[0,0]},inputSourceMap:{version:3,file:"restaurantService.js",sourceRoot:"",sources:["../../services/restaurantService.ts"],names:[],mappings:"AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,cAAc,CAAC;AACvC,OAAO,EAAE,UAAU,EAAe,MAAM,0BAA0B,CAAC;AACnE,OAAO,EAAE,QAAQ,EAAE,MAAM,oBAAoB,CAAC;AAE9C,MAAM,iBAAkB,SAAQ,OAA4B;IACxD,KAAK,CAAC,GAAG,CAAC,IAAiB;QACvB,OAAO,MAAM,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,IAAS,EAAE,IAAI,GAAG,CAAC,EAAE,KAAK,GAAG,EAAE;QACxC,MAAM,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC;QAChC,OAAO,UAAU,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC;IACvE,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,EAAU;QACpB,MAAM,UAAU,GAAG,MAAM,UAAU,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACjD,IAAI,CAAC,UAAU,EAAE,CAAC;YACd,MAAM,IAAI,QAAQ,CAAC,sBAAsB,CAAC,CAAC;QAC/C,CAAC;QACD,OAAO,UAAU,CAAC;IACtB,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,IAAY;QACxB,OAAO,UAAU,CAAC,OAAO,CAAC;YACtB,IAAI;SACP,CAAC,CAAC;IACP,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,EAAU,EAAE,KAA2B;QAChD,MAAM,iBAAiB,GAAG,MAAM,UAAU,CAAC,iBAAiB,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC;QACvF,IAAI,CAAC,iBAAiB;YAAE,MAAM,IAAI,QAAQ,CAAC,sBAAsB,CAAC,CAAC;QACnE,OAAO,iBAAiB,CAAC;IAC7B,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,EAAU;QACnB,MAAM,iBAAiB,GAAG,MAAM,UAAU,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;QACjE,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACrB,MAAM,IAAI,QAAQ,CAAC,sBAAsB,CAAC,CAAC;QAC/C,CAAC;QACD,OAAO,iBAAiB,CAAC;IAC7B,CAAC;CACJ;AAED,eAAe,IAAI,iBAAiB,EAAE,CAAC"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3702eecf9d56e7e37c969e3630a9d4a53a1ded6a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2g8137dg8=function(){return actualCoverage;};}return actualCoverage;}cov_2g8137dg8();import{Service}from'./service.js';import{Restaurant}from'../schema/restaurants.js';import{NotFound}from'../utils/errors.js';class RestaurantService extends Service{async add(data){cov_2g8137dg8().f[0]++;cov_2g8137dg8().s[0]++;return await Restaurant.create(data);}async getAll(sort,page=(cov_2g8137dg8().b[0][0]++,1),limit=(cov_2g8137dg8().b[1][0]++,10)){cov_2g8137dg8().f[1]++;const skip=(cov_2g8137dg8().s[1]++,(page-1)*limit);cov_2g8137dg8().s[2]++;return Restaurant.find().sort(sort).skip(skip).limit(limit).exec();}async getById(id){cov_2g8137dg8().f[2]++;const restaurant=(cov_2g8137dg8().s[3]++,await Restaurant.findById(id));cov_2g8137dg8().s[4]++;if(!restaurant){cov_2g8137dg8().b[2][0]++;cov_2g8137dg8().s[5]++;throw new NotFound('Restaurant not found');}else{cov_2g8137dg8().b[2][1]++;}cov_2g8137dg8().s[6]++;return restaurant;}async getByName(name){cov_2g8137dg8().f[3]++;cov_2g8137dg8().s[7]++;return Restaurant.findOne({name});}async update(id,patch){cov_2g8137dg8().f[4]++;const updatedRestaurant=(cov_2g8137dg8().s[8]++,await Restaurant.findByIdAndUpdate(id,patch,{new:true}));cov_2g8137dg8().s[9]++;if(!updatedRestaurant){cov_2g8137dg8().b[3][0]++;cov_2g8137dg8().s[10]++;throw new NotFound('Restaurant not found');}else{cov_2g8137dg8().b[3][1]++;}cov_2g8137dg8().s[11]++;return updatedRestaurant;}async delete(id){cov_2g8137dg8().f[5]++;const deletedRestaurant=(cov_2g8137dg8().s[12]++,await Restaurant.findByIdAndDelete(id));cov_2g8137dg8().s[13]++;if(!deletedRestaurant){cov_2g8137dg8().b[4][0]++;cov_2g8137dg8().s[14]++;throw new NotFound('Restaurant not found');}else{cov_2g8137dg8().b[4][1]++;}cov_2g8137dg8().s[15]++;return deletedRestaurant;}}export default new RestaurantService();//# sourceMappingURL=restaurantService.js.map
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmc4MTM3ZGc4IiwiYWN0dWFsQ292ZXJhZ2UiLCJTZXJ2aWNlIiwiUmVzdGF1cmFudCIsIk5vdEZvdW5kIiwiUmVzdGF1cmFudFNlcnZpY2UiLCJhZGQiLCJkYXRhIiwiZiIsInMiLCJjcmVhdGUiLCJnZXRBbGwiLCJzb3J0IiwicGFnZSIsImIiLCJsaW1pdCIsInNraXAiLCJmaW5kIiwiZXhlYyIsImdldEJ5SWQiLCJpZCIsInJlc3RhdXJhbnQiLCJmaW5kQnlJZCIsImdldEJ5TmFtZSIsIm5hbWUiLCJmaW5kT25lIiwidXBkYXRlIiwicGF0Y2giLCJ1cGRhdGVkUmVzdGF1cmFudCIsImZpbmRCeUlkQW5kVXBkYXRlIiwibmV3IiwiZGVsZXRlIiwiZGVsZXRlZFJlc3RhdXJhbnQiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VzIjpbIi4uLy4uL3NlcnZpY2VzL3Jlc3RhdXJhbnRTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbbnVsbF0sIm1hcHBpbmdzIjoidTZKQWtCUztBQUFBQSxhQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGFBQUEsR0FsQlQsT0FBU0UsT0FBTyxLQUFRLGNBQWMsQ0FDdEMsT0FBU0MsVUFBVSxLQUFxQiwwQkFBMEIsQ0FDbEUsT0FBU0MsUUFBUSxLQUFRLG9CQUFvQixDQUU3QyxLQUFNLENBQUFDLGlCQUFrQixRQUFRLENBQUFILE9BQTRCLENBQ3hELEtBQU0sQ0FBQUksR0FBR0EsQ0FBQ0MsSUFBaUIsRUFBQVAsYUFBQSxHQUFBUSxDQUFBLE1BQUFSLGFBQUEsR0FBQVMsQ0FBQSxNQUN2QixNQUFPLE1BQU0sQ0FBQU4sVUFBVSxDQUFDTyxNQUFNLENBQUNILElBQUksQ0FBQyxDQUN4QyxDQUVBLEtBQU0sQ0FBQUksTUFBTUEsQ0FBQ0MsSUFBUyxDQUFFQyxJQUFJLEVBQUFiLGFBQUEsR0FBQWMsQ0FBQSxTQUFHLENBQUMsRUFBRUMsS0FBSyxFQUFBZixhQUFBLEdBQUFjLENBQUEs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